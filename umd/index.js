(function(n,u){typeof exports=="object"&&typeof module!="undefined"?u(exports,require("react"),require("lodash"),require("use-context-selector"),require("events")):typeof define=="function"&&define.amd?define(["exports","react","lodash","use-context-selector","events"],u):(n=typeof globalThis!="undefined"?globalThis:n||self,u(n.prosteReactUse={},n.react,n.lodash,n["use-context-selector"],n.eventsEmitter))})(this,function(n,u,d,l,a){"use strict";function E(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}var m=E(a);function M(e,t){const f=u.useRef(!1);u.useEffect(()=>{if(!f.current){f.current=!0;return}return e()},t)}function c(e){const t=u.useRef(e);return t.current=e,t}function v(e,t){const f=c(t),s=u.useMemo(function(){let r=null;return function(R){const i=f.current(R);return!r||!d.isEqual(r,i)?r=i:r}},[f]);return l.useContextSelector(e,s)}function h(e){const t=u.useRef(!1);u.useEffect(function(){if(!t.current)return t.current=!0,e()},[])}function p(e){const t=u.useRef(!1);u.useLayoutEffect(function(){if(!t.current)return t.current=!1,e()},[])}const o=new m.default;function q(e,t,f){const s=u.useRef(!1);return u.useEffect(function(){if(!!t){if(f){if(s.current)return;o.once(e,function(r){s.current=!0,t(r)})}else o.on(e,t);return function(){o.off(e,t)}}}),u.useCallback(r=>{o.emit(e,r)},[e])}n.useBeforeMount=p,n.useContextWithEqual=v,n.useEventEmitter=q,n.useLatest=c,n.useMounted=h,n.useUpdatedEffect=M,Object.defineProperties(n,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
